<!DOCTYPE html>
<html lang="zh-cn">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
	<title>猪八的网：浮生志  | 定制Trackback特定样式</title>
	<meta name="viewport" content="width=device-width,minimum-scale=1">
	<meta name="generator" content="Hugo 0.89.4" />
	<meta name="description" content="陈俊［ChenJun(Zhu8)］的个人网站，江苏金坛人士，现居金陵，83年生人，电子产品、代码、海淘 、智能设备、网页设计自虐狂，曼联死忠粉，王小波门下走狗。">
	<META NAME="ROBOTS" CONTENT="INDEX, FOLLOW"> 
	
	<link href="https://zhu8.net/dist/app.css" rel="stylesheet"> 
	
	
    <link rel="shortcut icon" href="https://zhu8.net/favicon.ico" type="image/x-icon" />
 
	
	<script src="//cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js"></script>
	<link type="text/css" rel="stylesheet" href="https://zhu8.net/assets/css/custom.css" />
	<link type="text/css" rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/5.13.0/css/all.min.css" />
	<link type="text/css" rel="stylesheet" href="https://fonts.font.im/css?family=Noto+Serif+SC" />
	
	
	<script>
		(function (u, c) {
			var d = document,
				t = 'script',
				o = d.createElement(t),
				s = d.getElementsByTagName(t)[0];
			o.src = u;
			if (c) {
				o.addEventListener('load', function (e) {
					c(e);
				});
			}
			s.parentNode.insertBefore(o, s);
		})('https:\/\/zhu8.net\/lib\/pangu.min.js', function () {
			pangu.spacingPage();
		});
	</script>
	
	
	<style type="text/css" media="screen, print">
		@font-face {
			font-family: "FancyTitleFont";
			font-style: normal;
			font-display: swap;
			src: url('https://zhu8.net/fonts/%E6%9D%A8%E4%BB%BB%E4%B8%9C%E7%AB%B9%E7%9F%B3%E4%BD%93-Light.woff2') format('woff2'),
				url('https://zhu8.net/fonts/%E6%9D%A8%E4%BB%BB%E4%B8%9C%E7%AB%B9%E7%9F%B3%E4%BD%93-Light.woff') format('woff');
		}
	</style>
	
</head>

<body class="bg-gray-100 text-gray-700 font-sans">
	<div class="p-6 sm:p-10 md:p-16 flex flex-wrap">
		<header class="w-full md:w-2/5 xl:w-1/2 md:pr-12 lg:pr-20 xl:pr-24 order-1 md:order-1 max-w-2xl">
			<div
				class="z-50 bg-gray-100 bg-opacity-75 bg-opacity-custom lg:min-w-0.7 max-w-xl md:float-right md:text-right leading-loose tracking-tight md:sticky md:top-0 pt-2">
				 <div>
	<h1>
		<a href="https://zhu8.net/" title="猪八的网：浮生志" class="heading font-cursive icon">猪八的网：浮生志</a>
	</h1>
</div>
<h2 class="pt-2">
	<i class="fas fa-bookmark"></i>定制Trackback特定样式</h2>
<h4 class="text-java-700 font-normal leading-relaxed pt-2"><i class="fas fa-info"></i> 全文共 674 字，阅读需 <i class="fas fa-stopwatch"></i>  <span class="more-meta">3 分&nbsp;3 秒.</span>.</h4>
<div class="flex flex-wrap justify-end pt-2 "><div class="md:flex-grow-0 font-light">
	<i class="fas fa-folder-open"></i>     <a class="post-taxonomy-category text-medium-red-violet-600 hover:text-medium-red-violet-400" href='https://zhu8.net/categories/%E7%9F%B3%E9%A9%AC-code'>石马 | Code</a>   
	 &nbsp;&nbsp; 
	<i class="fas fa-tags"></i>  	 	 	 	<a class="post-taxonomy-tag text-eucalyptus-500" 		href='https://zhu8.net/tags/hack'>Hack</a>&nbsp;&#47; 	 	<a class="post-taxonomy-tag text-eucalyptus-500" 		href='https://zhu8.net/tags/trackback'>Trackback</a>&nbsp;&#47; 	 	<a class="post-taxonomy-tag text-eucalyptus-500" 		href='https://zhu8.net/tags/%E7%BD%91%E7%AB%99'>网站</a> 	 	 	
</div><time class="text-eucalyptus-500 md:text-right md:flex-grow font-light pl-4" datetime="2006-12-23T12:06:50&#43;08:00">
		<i class="fas fa-calendar-day"></i>2006-12-23 12:06:50 @ Sat</time>
</div>
<hr /> 
			</div>
		</header>
		<main role="main" class="w-full md:w-3/5 xl:w-1/2 max-w-3xl order-2 md:order-2 min-h-70vh pt-2 pb-4">
			

<article>
	<section class="mx-auto content">
		<div class="c-rich-text"><p>首先要自我打击一下，在产生这个想法之后，本来我是<strong>异想天开</strong>地想编成一个插件的，但研究半天发现自己其实对PHP语言还是个大菜鸟，远没有我想的那么简单，只好用笨办法了：手动添加代码到模板中去。</p>
<p>本来想用的来自这里：<a href="http://www.tamba2.org.uk/wordpress/commentstyling/" title="Making Comments stand out">WordPress – Comment styling</a>，确实是一篇不错的文章，里面不仅介绍了为Trackback和Pingback增加独特样式，也有为特定评论的与众不同的显示提供了解决方案。而且作者Podz所写的<a href="http://www.tamba2.org.uk/wordpress/" title="WordPress Help&amp;Podz @ Tamba2">The Temba2 WordPress Guides</a>是一篇不错的基础教程。评论姑且不谈，我需要的是第一个。</p>
<p>首先是在你的Blog模版的评论页面（一般为<strong>comments.php</strong>）找到这句：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#000;font-weight:bold">&lt;?</span>php <span style="color:#000;font-weight:bold">foreach</span> (<span style="color:#008080">$comments</span> <span style="color:#000;font-weight:bold">as</span> <span style="color:#008080">$comment</span>) <span style="color:#000;font-weight:bold">:</span> <span style="color:#999;font-weight:bold;font-style:italic">?&gt;</span><span style="color:#a61717;background-color:#e3d2d2">
</span></code></pre></div><p>在后面加上（<strong>1</strong>）：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#000;font-weight:bold">&lt;?</span>php <span style="color:#008080">$istback</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">false</span>; <span style="color:#000;font-weight:bold">if</span>(<span style="color:#008080">$comment</span><span style="color:#000;font-weight:bold">-&gt;</span><span style="color:#008080">comment_type</span> <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#39;trackback&#39;</span>) { <span style="color:#008080">$istback</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">true</span>; } <span style="color:#999;font-weight:bold;font-style:italic">?&gt;</span><span style="color:#a61717;background-color:#e3d2d2">
</span><span style="color:#a61717;background-color:#e3d2d2">&lt;?php $ispingb = false; if($comment-&gt;comment_type == &#39;pingback&#39;) { $ispingb = true; } ?&gt;
</span></code></pre></div><p>随后再找到这句：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#000;font-weight:bold">&lt;?</span>php comment_text() <span style="color:#999;font-weight:bold;font-style:italic">?&gt;</span><span style="color:#a61717;background-color:#e3d2d2">
</span></code></pre></div><p>在前后加上东西之后变成这个样子（<strong>2</strong>）：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#000;font-weight:bold">&lt;?</span>php <span style="color:#000;font-weight:bold">if</span>(<span style="color:#008080">$istback</span> ) { <span style="color:#000;font-weight:bold">echo</span> <span style="color:#d14">&#39;&lt;div class=&#34;tbcomment&#34;&gt;&#39;</span>;} <span style="color:#999;font-weight:bold;font-style:italic">?&gt;</span><span style="color:#a61717;background-color:#e3d2d2">
</span><span style="color:#a61717;background-color:#e3d2d2">&lt;?php if($ispingb ) { echo &#39;&lt;div class=&#34;pbcomment&#34;&gt;&#39;;} ?&gt;
</span><span style="color:#a61717;background-color:#e3d2d2">&lt;?php comment_text() ?&gt;
</span><span style="color:#a61717;background-color:#e3d2d2">&lt;?php if($istback ) { echo &#39;&lt;/div&gt;&#39;;} ?&gt;
</span><span style="color:#a61717;background-color:#e3d2d2">&lt;?php if($ispingb ) { echo &#39;&lt;/div&gt;&#39;;} ?&gt;
</span></code></pre></div><p>当然，为了不那么打击自己而全部照抄，我做了点小小的修改：将（<strong>1</strong>）更改为：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#000;font-weight:bold">&lt;?</span>php <span style="color:#008080">$istb</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">false</span>; <span style="color:#000;font-weight:bold">if</span>(get_comment_type() <span style="color:#000;font-weight:bold">!=</span> <span style="color:#d14">&#34;comment&#34;</span>) { <span style="color:#008080">$istb</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">true</span>; } <span style="color:#999;font-weight:bold;font-style:italic">?&gt;</span><span style="color:#a61717;background-color:#e3d2d2">
</span></code></pre></div><p>这里就是图个简单，逆向思维，不是comment的当然就是Trackback和Pingback了。后面的（<strong>2</strong>）也就一起简单了。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#000;font-weight:bold">&lt;?</span>php <span style="color:#000;font-weight:bold">if</span>(<span style="color:#008080">$istb</span> ) { <span style="color:#000;font-weight:bold">echo</span> <span style="color:#d14">&#39;&lt;div class=&#34;tbcomment&#34;&gt;&#39;</span>;} <span style="color:#999;font-weight:bold;font-style:italic">?&gt;</span><span style="color:#a61717;background-color:#e3d2d2">
</span><span style="color:#a61717;background-color:#e3d2d2">&lt;?php comment_text() ?&gt;
</span><span style="color:#a61717;background-color:#e3d2d2">&lt;?php if($istb ) { echo &#39;&lt;/div&gt;&#39;;} ?&gt;
</span></code></pre></div><p>最后，在样式表中添加这个CSS样式，就大功告成了：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css">.<span style="color:#458;font-weight:bold">tbcomment</span> {
<span style="color:#000;font-weight:bold">font</span>:<span style="color:#000;font-weight:bold">italic</span> <span style="color:#099">1</span><span style="color:#458;font-weight:bold">em</span><span style="color:#000;font-weight:bold">/</span><span style="color:#099">140</span><span style="color:#458;font-weight:bold">%</span> Georgia,<span style="color:#000;font-weight:bold">sans-serif</span>;
<span style="color:#000;font-weight:bold">color</span>:<span style="color:#000;font-weight:bold">gray</span>;
}
</code></pre></div><blockquote>
<p>勉强以此安慰下自己，还能有一小小的创新，不过我并没有彻底的将Comment和Trackback区分开来，单独显示。因为我的TB不算多，所以没有再去弄个插件影响速度，如果你有需要，可以看看这些地方，希望能对你有所帮助：</p>
</blockquote>
<ul>
<li>
<p><a href="http://mk.netgenes.org/wiki/Trackping_Separator" title="Trackping Separator">Trackping Separator</a></p>
</li>
<li>
<p><a href="http://www.noscope.com/journal/2005/01/wp-separating-trackbacks-pingbacks" title="Noscope&amp;Separating Trackbacks &amp; Pingbacks in WordPress 1.5 &amp; Above">Separating Trackbacks &amp; Pingbacks in WordPress 1.5 &amp; Above</a></p>
</li>
<li>
<p><a href="http://jackosh.com/wpplugins/trackbacklist/" title="Trackback List Plugin">Trackback List Plugin</a></p>
</li>
</ul>
</div>
	</section>
</article>
		</main>
		<div class="w-full h-0 flex-none order-3"></div>
		<aside role="contentinfo"
			class="w-full md:w-2/5 xl:w-1/2 md:pr-12 lg:pr-20 xl:pr-24 order-4 md:order-3 md:sticky md:bottom-0 self-end max-w-2xl">
			<div class="md:float-right md:text-right leading-loose tracking-tight md:mb-2">
				 <div class="md:max-w-xs  flex flex-col md:items-end">
	<ul class="font-serif flex-grow-0 flex justify-between flex-wrap md:flex-col">
	 
	<li class="px-1 md:px-0">
		<a href="https://zhu8.net/blog/" title="Go to Blog § 日志"  class="font-medium text-medium-red-violet-600 hover:text-medium-red-violet-400" > Blog § 日志  <i class="fas fa-book"></i></a>
	</li> 
	<li class="px-1 md:px-0">
		<a href="https://zhu8.net/about/" title="Go to About § 关于" > About § 关于  <i class="fas fa-address-book"></i></a>
	</li> 
	<li class="px-1 md:px-0">
		<a href="https://zhu8.net/links/" title="Go to Links § 链接" > Links § 链接  <i class="fas fa-link"></i></a>
	</li> 
	<li class="px-1 md:px-0">
		<a href="https://zhu8.net/project/" title="Go to Project § 项目" > Project § 项目  <i class="fas fa-poo"></i></a>
	</li> 
	<li class="px-1 md:px-0">
		<a href="https://zhu8.net/categories/" title="Go to Categories § 分类" > Categories § 分类  <i class="fas fa-th-list"></i></a>
	</li> 
	<li class="px-1 md:px-0">
		<a href="https://zhu8.net/tags/" title="Go to Tags § 标签" > Tags § 标签  <i class="fas fa-tag"></i></a>
	</li> 
	<li class="px-1 md:px-0">
		<a href="https://zhu8.net/index.xml" title="Go to RSS § 订阅" > RSS § 订阅  <i class="fas fa-rss"></i></a>
	</li>  
	
	<div id="fastSearch" class="m-0">
		<input id="searchInput" type="text" size=10 class="bg-gray-100 focus:outline-none border-b border-gray-100 focus:border-eucalyptus-300 md:text-right placeholder-java-500 min-w-0 max-w-xxxs" placeholder="Type, Search!" />
		<ul id="searchResults" class="bg-gray-200 px-2 divide-y divide-gray-400"> </ul>
	</div> 
</ul>
	<br /><br />
	<div class="font-medium text-xl flex flex-wrap-reverse">
  
  <a href="https://twitter.com/5CJ" aria-label="Twitter"  title="View My Twitter"><i id="twitter-ic" class="fab fa-twitter" aria-hidden="true"></i></a>  
  
  <a href="https://facebook.com/ichenjun" aria-label="Facebook"  title="View My Facebook"><i id="facebook-ic" class="fab fa-facebook" aria-hidden="true"></i></a> 
  
  <a href="https://weibo.com/zhu8" aria-label="Weibo"  title="View My Weibo"><i id="weibo-ic" class="fab fa-weibo" aria-hidden="true"></i></a>  
  
  <a href="https://github.com/zhu8" aria-label="Github"  title="View My Github"><i id="github-ic" class="fab fa-github" aria-hidden="true"></i></a>  
  
  <a href="https://instagram.com/5CJ" aria-label="Instagram"  title="View My Instagram"><i id="instagram-ic" class="fab fa-instagram" aria-hidden="true"></i></a>  
  
  <a href="https://gitlab.com/zhu8.net" aria-label="Gitlab"  title="View My Gitlab"><i id="gitlab-ic" class="fab fa-gitlab" aria-hidden="true"></i></a>  
  
  <a href="https://zhu8.tumblr.com" aria-label="Tumblr"  title="View My Tumblr"><i id="tumblr-ic" class="fab fa-tumblr-square" aria-hidden="true"></i></a>  
</div>
	<div class="text-sm text-gray-500 leading-tight a-gray">
		
		<i class="fas fa-paint-roller"></i>Life is Colorful, Just PAINT.<br />
		<i class="fas fa-code-branch"></i>Theme with <a href="https://github.com/heyeshuang/hugo-theme-tokiwa">Tokiwa</a>, Powered by <a href="https://gohugo.io"><span style="color:#f40083">H</span><span style="color:#246dd6">U</span><span style="color:#4dc47d">G</span><span style="color:#fcb643">O</span></a><br />
		
		<i class="fas fa-copyright"></i>2004-2021 &sect; Zhu8, [<a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh">CC BY-SA</a>] 
	</div>
</div> 
			</div>
		</aside>
		<footer class="w-full md:w-3/5 xl:w-1/2 order-3 max-w-3xl md:order-4 pt-2">
			 
<p style="color:#777;"><i class="fas fa-pencil-alt"></i> Last Mod @ <em>2006-12-23 12:06</em></p>
<hr class="double-line" />
<div class="flex flex-wrap justify-between pb-2 leading-loose font-serif">
    
    <a class="flex-grow-0" href="https://zhu8.net/blog/2006/12/new-choice-of-search-yodao.html"> 
        <svg class="fill-current inline-block h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
            <path fill="none" d="M0 0h24v24H0z" />
            <path d="M7.828 11H20v2H7.828l5.364 5.364-1.414 1.414L4 12l7.778-7.778 1.414 1.414z" />
        </svg> 津津乐道-有道 </a> 
    
    <a class="flex-grow-0" href="https://zhu8.net/blog/2007/01/beggar-garbage-and-tyranny.html"> 乞丐、垃圾以及多数人的暴政 
        <svg class="fill-current inline-block h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
            <path fill="none" d="M0 0h24v24H0z" />
            <path d="M16.172 11l-5.364-5.364 1.414-1.414L20 12l-7.778 7.778-1.414-1.414L16.172 13H4v-2z" />
        </svg></a> 
</div>
<div>
      
    <div class="font-serif pb-2 flex align-start leading-loose">
        <span class="heading pr-6 leading-loose">Related</span>
        <span>
             <a href="https://zhu8.net/blog/2006/11/trouble-with-so-much-things.html">发现自己原来一根筋</a>&nbsp;&nbsp;&#47;&nbsp;  <a href="https://zhu8.net/blog/2006/11/wordpress-language-pack-and-utw-permalink-structure-fix.html">解决WP汉化和UTW链接问题</a>&nbsp;&nbsp;&#47;&nbsp;  <a href="https://zhu8.net/blog/2006/11/small-cases.html">二三事</a>&nbsp;&nbsp;&#47;&nbsp;  <a href="https://zhu8.net/blog/2006/08/time-back-to-2004.html">时光倒回贰零零肆</a>&nbsp;&nbsp;&#47;&nbsp;  <a href="https://zhu8.net/blog/2004/03/gramophone.html">第一篇：留声机</a> 
        </span>
    </div> 
</div>
<hr />
<div class="pb-2">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4945528698886553" crossorigin="anonymous"></script>
    <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-4945528698886553" data-ad-slot="2174653532"></ins>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
    

<div id="waline"></div>
<script>
    new Waline({
        el: '#waline',
        path: location.pathname,
        serverURL: "https://comm.zhu8.net/",
		visitor: 'true',
		login: 'enable',
		uploadImage: false,
        avatar: 'robohash',
        emoji: ['https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/qq'],
    });
    </script>


</div>
<hr /> 
		</footer>
		

<script src="//cdn.bootcss.com/jquery/1.11.1/jquery.min.js" type="text/javascript"></script>
<script type="text/javascript">
      
      (window.jQuery)||document.write('<script type="text/javascript" src="//ajax.aspnetcdn.com/ajax/jquery/jquery-1.11.1.min.js"><\/script>');
</script>
<script src="https://zhu8.net/assets/js/go-top.js" type="text/javascript"></script>
<script src="https://zhu8.net/dist/app.js"></script>
<script src="https://zhu8.net/lib/fuse.min.js"></script> 
<script src="https://zhu8.net/lib/fastsearch.js"></script>
<script type="text/javascript">
      (function(c,l,a,r,i,t,y){
          c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
          t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
          y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
      })(window, document, "clarity", "script", "56s5u33lqf");
  </script>
 
<script async src="https://www.googletagmanager.com/gtag/js?id=G-5HJRD89DCW"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-5HJRD89DCW', { 'anonymize_ip': false });
}
</script>
 
	</div>
</body>
</html>