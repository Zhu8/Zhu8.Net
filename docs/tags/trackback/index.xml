<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Trackback on 猪八的网：浮生志</title><link>https://zhu8.net/tags/trackback/</link><description>Recent content in Trackback on 猪八的网：浮生志</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><copyright>Zhu8.Net 🚀 [&lt;a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh">CC BY-SA&lt;/a>]</copyright><lastBuildDate>Sat, 23 Dec 2006 12:06:50 +0800</lastBuildDate><atom:link href="https://zhu8.net/tags/trackback/index.xml" rel="self" type="application/rss+xml"/><item><title>定制Trackback特定样式</title><link>https://zhu8.net/blog/2006/12/style-wordpress-trackback.html</link><pubDate>Sat, 23 Dec 2006 12:06:50 +0800</pubDate><guid>https://zhu8.net/blog/2006/12/style-wordpress-trackback.html</guid><description>&lt;p>首先要自我打击一下，在产生这个想法之后，本来我是&lt;strong>异想天开&lt;/strong>地想编成一个插件的，但研究半天发现自己其实对PHP语言还是个大菜鸟，远没有我想的那么简单，只好用笨办法了：手动添加代码到模板中去。&lt;/p>
&lt;p>本来想用的来自这里：&lt;a href="http://www.tamba2.org.uk/wordpress/commentstyling/" title="Making Comments stand out">WordPress – Comment styling&lt;/a>，确实是一篇不错的文章，里面不仅介绍了为Trackback和Pingback增加独特样式，也有为特定评论的与众不同的显示提供了解决方案。而且作者Podz所写的&lt;a href="http://www.tamba2.org.uk/wordpress/" title="WordPress Help&amp;amp;Podz @ Tamba2">The Temba2 WordPress Guides&lt;/a>是一篇不错的基础教程。评论姑且不谈，我需要的是第一个。&lt;/p>
&lt;p>首先是在你的Blog模版的评论页面（一般为&lt;strong>comments.php&lt;/strong>）找到这句：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-php" data-lang="php">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">&amp;lt;?&lt;/span>php &lt;span style="color:#000;font-weight:bold">foreach&lt;/span> (&lt;span style="color:#008080">$comments&lt;/span> &lt;span style="color:#000;font-weight:bold">as&lt;/span> &lt;span style="color:#008080">$comment&lt;/span>) &lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#999;font-weight:bold;font-style:italic">?&amp;gt;&lt;/span>&lt;span style="color:#a61717;background-color:#e3d2d2">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>在后面加上（&lt;strong>1&lt;/strong>）：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-php" data-lang="php">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">&amp;lt;?&lt;/span>php &lt;span style="color:#008080">$istback&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#000;font-weight:bold">false&lt;/span>; &lt;span style="color:#000;font-weight:bold">if&lt;/span>(&lt;span style="color:#008080">$comment&lt;/span>&lt;span style="color:#000;font-weight:bold">-&amp;gt;&lt;/span>&lt;span style="color:#008080">comment_type&lt;/span> &lt;span style="color:#000;font-weight:bold">==&lt;/span> &lt;span style="color:#d14">&amp;#39;trackback&amp;#39;&lt;/span>) { &lt;span style="color:#008080">$istback&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#000;font-weight:bold">true&lt;/span>; } &lt;span style="color:#999;font-weight:bold;font-style:italic">?&amp;gt;&lt;/span>&lt;span style="color:#a61717;background-color:#e3d2d2">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a61717;background-color:#e3d2d2">&amp;lt;?php $ispingb = false; if($comment-&amp;gt;comment_type == &amp;#39;pingback&amp;#39;) { $ispingb = true; } ?&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>随后再找到这句：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-php" data-lang="php">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">&amp;lt;?&lt;/span>php comment_text() &lt;span style="color:#999;font-weight:bold;font-style:italic">?&amp;gt;&lt;/span>&lt;span style="color:#a61717;background-color:#e3d2d2">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>在前后加上东西之后变成这个样子（&lt;strong>2&lt;/strong>）：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-php" data-lang="php">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">&amp;lt;?&lt;/span>php &lt;span style="color:#000;font-weight:bold">if&lt;/span>(&lt;span style="color:#008080">$istback&lt;/span> ) { &lt;span style="color:#000;font-weight:bold">echo&lt;/span> &lt;span style="color:#d14">&amp;#39;&amp;lt;div class=&amp;#34;tbcomment&amp;#34;&amp;gt;&amp;#39;&lt;/span>;} &lt;span style="color:#999;font-weight:bold;font-style:italic">?&amp;gt;&lt;/span>&lt;span style="color:#a61717;background-color:#e3d2d2">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a61717;background-color:#e3d2d2">&amp;lt;?php if($ispingb ) { echo &amp;#39;&amp;lt;div class=&amp;#34;pbcomment&amp;#34;&amp;gt;&amp;#39;;} ?&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a61717;background-color:#e3d2d2">&amp;lt;?php comment_text() ?&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a61717;background-color:#e3d2d2">&amp;lt;?php if($istback ) { echo &amp;#39;&amp;lt;/div&amp;gt;&amp;#39;;} ?&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a61717;background-color:#e3d2d2">&amp;lt;?php if($ispingb ) { echo &amp;#39;&amp;lt;/div&amp;gt;&amp;#39;;} ?&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>当然，为了不那么打击自己而全部照抄，我做了点小小的修改：将（&lt;strong>1&lt;/strong>）更改为：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-php" data-lang="php">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">&amp;lt;?&lt;/span>php &lt;span style="color:#008080">$istb&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#000;font-weight:bold">false&lt;/span>; &lt;span style="color:#000;font-weight:bold">if&lt;/span>(get_comment_type() &lt;span style="color:#000;font-weight:bold">!=&lt;/span> &lt;span style="color:#d14">&amp;#34;comment&amp;#34;&lt;/span>) { &lt;span style="color:#008080">$istb&lt;/span> &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#000;font-weight:bold">true&lt;/span>; } &lt;span style="color:#999;font-weight:bold;font-style:italic">?&amp;gt;&lt;/span>&lt;span style="color:#a61717;background-color:#e3d2d2">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>这里就是图个简单，逆向思维，不是comment的当然就是Trackback和Pingback了。后面的（&lt;strong>2&lt;/strong>）也就一起简单了。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-php" data-lang="php">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">&amp;lt;?&lt;/span>php &lt;span style="color:#000;font-weight:bold">if&lt;/span>(&lt;span style="color:#008080">$istb&lt;/span> ) { &lt;span style="color:#000;font-weight:bold">echo&lt;/span> &lt;span style="color:#d14">&amp;#39;&amp;lt;div class=&amp;#34;tbcomment&amp;#34;&amp;gt;&amp;#39;&lt;/span>;} &lt;span style="color:#999;font-weight:bold;font-style:italic">?&amp;gt;&lt;/span>&lt;span style="color:#a61717;background-color:#e3d2d2">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a61717;background-color:#e3d2d2">&amp;lt;?php comment_text() ?&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a61717;background-color:#e3d2d2">&amp;lt;?php if($istb ) { echo &amp;#39;&amp;lt;/div&amp;gt;&amp;#39;;} ?&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>最后，在样式表中添加这个CSS样式，就大功告成了：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-css" data-lang="css">&lt;span style="display:flex;">&lt;span>.&lt;span style="color:#458;font-weight:bold">tbcomment&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">font&lt;/span>:&lt;span style="color:#000;font-weight:bold">italic&lt;/span> &lt;span style="color:#099">1&lt;/span>&lt;span style="color:#458;font-weight:bold">em&lt;/span>&lt;span style="color:#000;font-weight:bold">/&lt;/span>&lt;span style="color:#099">140&lt;/span>&lt;span style="color:#458;font-weight:bold">%&lt;/span> Georgia,&lt;span style="color:#000;font-weight:bold">sans-serif&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">color&lt;/span>:&lt;span style="color:#000;font-weight:bold">gray&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>勉强以此安慰下自己，还能有一小小的创新，不过我并没有彻底的将Comment和Trackback区分开来，单独显示。因为我的TB不算多，所以没有再去弄个插件影响速度，如果你有需要，可以看看这些地方，希望能对你有所帮助：&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>
&lt;p>&lt;a href="http://mk.netgenes.org/wiki/Trackping_Separator" title="Trackping Separator">Trackping Separator&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a href="http://www.noscope.com/journal/2005/01/wp-separating-trackbacks-pingbacks" title="Noscope&amp;amp;Separating Trackbacks &amp;amp; Pingbacks in WordPress 1.5 &amp;amp; Above">Separating Trackbacks &amp;amp; Pingbacks in WordPress 1.5 &amp;amp; Above&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a href="http://jackosh.com/wpplugins/trackbacklist/" title="Trackback List Plugin">Trackback List Plugin&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul></description></item></channel></rss>