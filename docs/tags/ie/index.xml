<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>IE on 猪八的网：浮生志</title><link>https://zhu8.net/tags/ie/</link><description>Recent content in IE on 猪八的网：浮生志</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><copyright>Zhu8.Net 🚀 [&lt;a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh">CC BY-SA&lt;/a>]</copyright><lastBuildDate>Fri, 21 Jul 2006 11:27:45 +0800</lastBuildDate><atom:link href="https://zhu8.net/tags/ie/index.xml" rel="self" type="application/rss+xml"/><item><title>在IE中为abbr标签加样式</title><link>https://zhu8.net/blog/2006/07/ie-abbr.html</link><pubDate>Fri, 21 Jul 2006 11:27:45 +0800</pubDate><guid>https://zhu8.net/blog/2006/07/ie-abbr.html</guid><description>&lt;p>&lt;strong>简介&lt;/strong>&lt;/p>
&lt;p>&amp;lt;abbr&amp;gt;是用来为web页面上的简称（译者注：这里把简称和缩写分开而论，简称范围比缩写大，取首字母的缩写用&amp;lt;acronym&amp;gt;标签）&lt;a href="http://www.evolt.org/article/HTML_is_not_an_acronym/17/35750/index.html">添加适当标注&lt;/a>的XHTML标签，Windows的IE浏览器暂不支持&amp;lt;abbr&amp;gt;标签。 在IE里，你可以应用CSS给&amp;lt;acronym&amp;gt;但是不能应用给&amp;lt;abbr&amp;gt;标签，IE会为&amp;lt;acronym&amp;gt;标签的title属性显示提示，但是会忽略&amp;lt;abbr&amp;gt;标签。&lt;/p>
&lt;p>这个IE的bug（或者特色）使得一些网站人员认为&amp;lt;abbr&amp;gt;标签一点用都没有，而显然这么认为是不对的。在Mozilla和Opera里还是很正确的处理了这个标签，并且它对于web内容的可读性和语义化来说非常重要。这也是我为什么一直在寻找解决方法，最终我找到了。&lt;/p>
&lt;p>&lt;strong>解决方法&lt;/strong>&lt;/p>
&lt;p>本方法基于一个简单的事实：即使IE会忽略&amp;lt;abbr&amp;gt;标签，但是其他嵌套在&amp;lt;abbr&amp;gt;标签里的标签还是正常的。所以我在嵌了一个&amp;lt;span&amp;gt;标签在&amp;lt;abbr&amp;gt;里，设置&amp;lt;span&amp;gt;的title和class属性，然后&amp;lt;abbr&amp;gt;开始变得和&amp;lt;acronym&amp;gt;标签一样了。&lt;/p>
&lt;p>&lt;strong>代码例子&lt;/strong>&lt;/p>
&lt;p>看一下下面的代码，是一个简单的缩写词的例子：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-html" data-lang="html">&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#000080">abbr&lt;/span> &lt;span style="color:#008080">title&lt;/span>&lt;span style="color:#000;font-weight:bold">=&lt;/span>&lt;span style="color:#d14">&amp;#34;Cascading Style Sheets&amp;#34;&lt;/span>&amp;gt;CSS&amp;lt;/&lt;span style="color:#000080">abbr&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>现在，对比一下修改后的代码：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-html" data-lang="html">&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#000080">abbr&lt;/span> &lt;span style="color:#008080">title&lt;/span>&lt;span style="color:#000;font-weight:bold">=&lt;/span>&lt;span style="color:#d14">&amp;#34;Cascading Style Sheets&amp;#34;&lt;/span>&amp;gt;&amp;lt;&lt;span style="color:#000080">span&lt;/span> &lt;span style="color:#008080">class&lt;/span>&lt;span style="color:#000;font-weight:bold">=&lt;/span>&lt;span style="color:#d14">&amp;#34;abbr&amp;#34;&lt;/span> &lt;span style="color:#008080">title&lt;/span>&lt;span style="color:#000;font-weight:bold">=&lt;/span>&lt;span style="color:#d14">&amp;#34;Cascading Style Sheets&amp;#34;&lt;/span>&amp;gt;CSS&amp;lt;/&lt;span style="color:#000080">span&lt;/span>&amp;gt;&amp;lt;/&lt;span style="color:#000080">abbr&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>自动操作&lt;/strong>&lt;/p>
&lt;p>手动的给每一个&amp;lt;abbr&amp;gt;标签嵌入&amp;lt;span&amp;gt;显然不可能&amp;amp;#8212;-既无聊又对Mozilla和Opera没必要。幸运的是，现在有一个自动的、基于客户端脚本的解决方法。&lt;/p>
&lt;p>你可能注意到了，这个页面（译者注：&lt;a href="http://www.sovavsiti.cz/css/abbr.html">原作者的页面&lt;/a>）上的简写词语即使在IE里都会有提示，并且加了CSS样式（虚下划线和一个问号状的鼠标光标）。然而你如果看一下源代码，你将找不到在上文提到的&amp;lt;span&amp;gt;标签。这得益于本页加载的一个简单的JavaScript：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-java" data-lang="java">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb"> &lt;/span>function&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#900;font-weight:bold">styleAbbr&lt;/span>()&lt;span style="color:#bbb"> &lt;/span>{&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#000;font-weight:bold">var&lt;/span>&lt;span style="color:#bbb"> &lt;/span>oldBodyText,&lt;span style="color:#bbb"> &lt;/span>newBodyText,&lt;span style="color:#bbb"> &lt;/span>reg&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#900;font-weight:bold">if&lt;/span>&lt;span style="color:#bbb"> &lt;/span>(isIE)&lt;span style="color:#bbb"> &lt;/span>{&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb"> &lt;/span>oldBodyText&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#000;font-weight:bold">=&lt;/span>&lt;span style="color:#bbb"> &lt;/span>document.&lt;span style="color:#008080">body&lt;/span>.&lt;span style="color:#008080">innerHTML&lt;/span>;&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb"> &lt;/span>reg&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#000;font-weight:bold">=&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#000;font-weight:bold">/&amp;lt;&lt;/span>abbr(&lt;span style="color:#000;font-weight:bold">[^&amp;gt;]*&lt;/span>)&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>(&lt;span style="color:#000;font-weight:bold">[^&amp;lt;]*&lt;/span>)&lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>ABBR&lt;span style="color:#000;font-weight:bold">&amp;gt;/&lt;/span>g;&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb"> &lt;/span>newBodyText&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#000;font-weight:bold">=&lt;/span>&lt;span style="color:#bbb"> &lt;/span>oldBodyText.&lt;span style="color:#008080">replace&lt;/span>(reg,&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;amp;&lt;/span>&lt;span style="color:#a61717;background-color:#e3d2d2">#&lt;/span>8216;&lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>abbr&lt;span style="color:#bbb"> &lt;/span>$1&lt;span style="color:#000;font-weight:bold">=&lt;/span>&lt;span style="color:#d14">&amp;#34;&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&amp;lt;&lt;/span>span&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#000;font-weight:bold">class&lt;/span>&lt;span style="color:#a61717;background-color:#e3d2d2">=&amp;#34;&amp;#34;&lt;/span>&lt;span style="color:#458;font-weight:bold">abbr&lt;/span>&lt;span style="color:#d14">&amp;#34;&amp;#34;&lt;/span>&lt;span style="color:#bbb"> &lt;/span>$1&lt;span style="color:#000;font-weight:bold">=&lt;/span>&lt;span style="color:#d14">&amp;#34;&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>$2&lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>span&lt;span style="color:#000;font-weight:bold">&amp;gt;&amp;lt;/&lt;/span>abbr&lt;span style="color:#000;font-weight:bold">&amp;gt;&amp;amp;&lt;/span>&lt;span style="color:#a61717;background-color:#e3d2d2">#&lt;/span>8216;);&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb"> &lt;/span>document.&lt;span style="color:#008080">body&lt;/span>.&lt;span style="color:#008080">innerHTML&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#000;font-weight:bold">=&lt;/span>&lt;span style="color:#bbb"> &lt;/span>newBodyText;&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb"> &lt;/span>}&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb"> &lt;/span>}&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb"> &lt;/span>window.&lt;span style="color:#008080">onload&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#000;font-weight:bold">=&lt;/span>&lt;span style="color:#bbb"> &lt;/span>function(){&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb"> &lt;/span>styleAbbr()&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb"> &lt;/span>};&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb"> &lt;/span>isIE&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#000;font-weight:bold">=&lt;/span>&lt;span style="color:#bbb"> &lt;/span>(document.&lt;span style="color:#008080">all&lt;/span>)&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#000;font-weight:bold">?&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#000;font-weight:bold">true&lt;/span>:&lt;span style="color:#000;font-weight:bold">false&lt;/span>;&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>abbr(&lt;span style="color:#000;font-weight:bold">[^&amp;gt;&lt;/span>&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>你可能注意到了，我的站点也具有了此功效，是因为我将上面的代码写入了一个名为_abbr.js_的脚本中，然后在_Theme_的_header.php_中加入了这样一段代码，同时和插件&lt;a href="https://zhu8.net/blog/?p=5">Acronym Replacer&lt;/a>配合使用就可以了。&lt;strong>Zhu8[注]&lt;/strong>&lt;/p>
&lt;p>这段脚本会检查客户端浏览器，如果是IE，那么则替换所有的&amp;lt;abbr&amp;gt;标签为修改过的版本（嵌入了&amp;lt;span&amp;gt;）。注意的是我们必须使用正则表达式和innerHTML属性来取代标准的DOM方法，因为IE不能通过DOM来获取&amp;lt;abbr&amp;gt;属性。&lt;/p>
&lt;p>&lt;strong>样式化&lt;/strong>&lt;/p>
&lt;p>最后看一下这个页面上使用的CSS。相当简单：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-css" data-lang="css">&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000080">abbr&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000080">acronym&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000080">span&lt;/span>.&lt;span style="color:#458;font-weight:bold">abbr&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">cursor&lt;/span>: &lt;span style="color:#000;font-weight:bold">help&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">border-bottom&lt;/span>: &lt;span style="color:#099">1&lt;/span>&lt;span style="color:#458;font-weight:bold">px&lt;/span> &lt;span style="color:#000;font-weight:bold">dashed&lt;/span> &lt;span style="color:#099">#000&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Mozilla和Opera使用abbr和acronym属性选择器，IE则使用acronym和span.abbr。无论如何，&amp;lt;abbr&amp;gt;和&amp;lt;acronym&amp;gt;都被样式化了——一个问号状的鼠标光标（当鼠标指上后）和虚下划线。&lt;/p>
&lt;p>&lt;strong>其他&lt;/strong>&lt;/p>
&lt;p>1.感谢Michael Kusyn提供了JavaScript解决方法。
2.更多关于&amp;lt;abbr&amp;gt;，&amp;lt;acronym&amp;gt;标签和两者的区别，参考_Craig Saila_的&lt;a href="http://www.evolt.org/article/HTML_is_not_an_acronym/17/35750/index.html">HTML is not an acronym&lt;/a> （Evolt.org）&lt;/p>
&lt;p>欢迎交流意见评论，可以发邮件至&lt;a href="mailto:marek@sovavsiti.cz">marek@sovavsiti.cz&lt;/a>.&lt;/p>
&lt;p>&amp;amp;原文：&lt;a href="http://www.sovavsiti.cz/css/abbr.html">http://www.sovavsiti.cz/css/abbr.html&lt;/a>
&amp;amp;翻译：&lt;a href="http://blog.handsbrain.com/JunChen">JunChen &lt;/a>
&amp;amp;版权:译者JunChen所有，转载请联系译者。&lt;/p></description></item></channel></rss>