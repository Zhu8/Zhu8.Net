<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>乱码 on 猪八的网：浮生志</title><link>https://zhu8.net/tags/%E4%B9%B1%E7%A0%81/</link><description>Recent content in 乱码 on 猪八的网：浮生志</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><copyright>Zhu8.Net 🚀 [&lt;a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh">CC BY-SA&lt;/a>]</copyright><lastBuildDate>Wed, 16 Apr 2008 22:29:04 +0800</lastBuildDate><atom:link href="https://zhu8.net/tags/%E4%B9%B1%E7%A0%81/index.xml" rel="self" type="application/rss+xml"/><item><title>从wordpress到textpattern</title><link>https://zhu8.net/blog/2008/04/from-wordpress-to-textpattern.html</link><pubDate>Wed, 16 Apr 2008 22:29:04 +0800</pubDate><guid>https://zhu8.net/blog/2008/04/from-wordpress-to-textpattern.html</guid><description>&lt;p>其实&lt;span class="right">&lt;img src="https://zhu8.net/images/posts/txp.gif" alt="Textpattern" title="Textpattern">&lt;/span>很久以前就试用了 &lt;a href="http://textpattern.com/">TXP&lt;/a> ，但是一直是一头雾水，今天终于 &lt;sup>其实昨天&lt;/sup> 就已经弄好了。不过一直wordpress导入有点小问题，所以一直没有换过来。现在折腾好了，做一下小 &lt;strong>记录：&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>解决乱码问题&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>打开 &lt;em>import_wp.php&lt;/em> ，找到下面这行：&lt;/p>
&lt;p>&lt;code>mysql_select_db($b2db, $b2link);&lt;/code>&lt;/p>
&lt;p>在后面加上：&lt;/p>
&lt;p>&lt;code>mysql_query(&amp;quot;SET NAMES 'utf8'&amp;quot;, $b2link);&lt;/code>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>增加 Excerpt 部分&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>找到下面这行：&lt;/p>
&lt;p>&lt;code>p.post_content as Body,&lt;/code>&lt;/p>
&lt;p>在后面加上：&lt;/p>
&lt;p>&lt;code>p.post_excerpt as Excerpt,&lt;/code>&lt;/p>
&lt;p>同样的，找到这行：&lt;/p>
&lt;p>&lt;code>Body_html = '&amp;quot;.doSlash($Body_html).&amp;quot;',&lt;/code>&lt;/p>
&lt;p>在后面加上：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-php" data-lang="php">&lt;span style="display:flex;">&lt;span>Excerpt &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#d14">&amp;#39;&amp;#34;.doSlash($Excerpt).&amp;#34;&amp;#39;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Excerpt_html &lt;span style="color:#000;font-weight:bold">=&lt;/span> &lt;span style="color:#d14">&amp;#39;&amp;#34;.doSlash($Excerpt).&amp;#34;&amp;#39;&lt;/span>,
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>&lt;strong>不导入附件生成的页面&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>找到下面这行：&lt;/p>
&lt;p>&lt;code>&amp;quot;.$wpdbprefix.&amp;quot;users as u on u.ID = p.post_author&lt;/code>&lt;/p>
&lt;p>在后面加上：&lt;/p>
&lt;p>&lt;code>WHERE p.post_status != 'attachment'&lt;/code>&lt;/p>
&lt;p>差不多就这些了，在懒懒喵的 &lt;a href="http://blog.nahoya.com/archives/2006_09/129">旧文&lt;/a> 中提到的留言关闭问题已经在Textpattern · 4.0.6中得到了解决。 &lt;strong>但是我本人的一个问题，Tag问题还没有搞定，导入会变成Category，我是用的笨办法：直接在WP数据库中先删除它，哈哈！&lt;/strong> 还有一个小问题，导入user错误，不过如果是单用户的Blog，大可不必去管这个问题。&lt;/p>
&lt;p>*放出修改后的 &lt;del>import_wp.php&lt;/del>&lt;/p>
&lt;p>&lt;em>P.S&lt;/em> 初次使用 &lt;a href="http://textile.thresholdstate.com/">Textile&lt;/a> ，感觉还要适应好段时间，不过用起来确实是种不同的体验。&lt;/p></description></item><item><title>二三事</title><link>https://zhu8.net/blog/2006/11/small-cases.html</link><pubDate>Sun, 05 Nov 2006 21:10:10 +0800</pubDate><guid>https://zhu8.net/blog/2006/11/small-cases.html</guid><description>&lt;p>瞎忙乎了老半天，觉得还是记下来好，要不老是犯迷糊。&lt;/p>
&lt;h3 id="壹解决了live-search的编码问题">壹、解决了Live Search的编码问题&lt;/h3>
&lt;p>微软的Live Search其实很不错的，原来的MSN虽然默默无闻，但是索引起来也蛮勤快的，今天忽然想到在&lt;a href="http://chenjun.com/">首页&lt;/a>里面加上自定义的&lt;strong>404/500页面&lt;/strong>，所以就用了**.htaccess**加了几句就OK，代码为：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-html" data-lang="html">&lt;span style="display:flex;">&lt;span>ErrorDocument 404 /error.html
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ErrorDocument 500 /error.html
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>RewriteEngine on
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>RewriteCond %{HTTP_REFERER} !^$
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>RewriteCond %{HTTP_REFERER} !^http://(www.)?zhu8.net/.*$ [NC]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>RewriteRule .(js¦mp3¦wma)$&lt;span style="color:#a61717;background-color:#e3d2d2">&amp;amp;&lt;/span>[F]
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>我是把404和500放在一个页面的，省得麻烦，所以就想弄一个单纯的搜索页面，一直发现Live!对我的站索引还蛮全的，所以除了加上Google之外，还想加上Live Search的（&lt;a href="http://help.live.com/help.aspx?project=wl_webmasters%EF%BF%BDmkt=zh-cn" title="Live Search 站点所有者帮助">见此&lt;/a>），但是在编码上遇到了问题：&lt;/p>
&lt;blockquote>
&lt;p>在下面的代码中，必须用您网站所用语言所对应的三位或四位数代码页编号来替换&amp;quot;您的网页所用代码页&amp;quot;。&lt;br>
例如，如果您的网站是用源于拉丁文的语言（英语、法语或德语）编写的，则用 1252 编号来取代此指令：value=&amp;ldquo;1252&amp;rdquo;&lt;br>
有关各语言所对应的代码页值，请参阅 &lt;a href="http://g.msn.com/0HEWL_WEBMASTERSZHCN9/91008" title="Code Pages Supported by Windows">Windows 支持的代码页&lt;/a>网页。&lt;/p>
&lt;/blockquote>
&lt;p>很显然，里面有GBK码（代码：936），但是没有UTF-8码（应该不是我没有找到），只好到网上去找，不经意发现了&lt;strong>UTF-8的代码：65001&lt;/strong>，于是将代码一修改，就成了。详细可以到&lt;a href="http://chenjun.com/404.html" title="404/500 错误页面">这个页面&lt;/a>去看下源代码就好了。&lt;/p>
&lt;h3 id="贰解决了winxp下chm电子书无法显示页面的问题">贰、解决了WinXP下chm电子书无法显示页面的问题&lt;/h3>
&lt;p>本来想把原来的&lt;em>偏航&lt;/em>里无声听雨的小波文集弄起来的，因为我这一直存着opig做的chm电子书档，结果在网吧翻出来弄，书的导航栏倒是没有问题，页面却老是&lt;em>无法显示网页&lt;/em>，弄的我郁闷，网上去搜，先是到了微软的&lt;a href="http://support.microsoft.com/kb/892675" title="安装安全更新 896358 或 890175 后，某些网站和 HTML 帮助功能可能无法运作">官方说明页面&lt;/a>，以为要折腾注册表，在网吧要弄注册表是很烦的事情，再去搜搜，在这发现了最简单的方法：Loveyuki一语惊醒梦中人，原来&lt;a href="http://www.i170.com/article/5298#comment" title="一起来&amp;amp;如何解决chm格式文件无法显示问题">如此简单&lt;/a>（内有截图），还去按微软那样复杂何必呢？&lt;/p>
&lt;h3 id="叁以前的旧blog重新贴出7">叁、以前的旧Blog&lt;a href="http://chenjun.com/old/" title="短长书">重新贴出&lt;/a>&lt;/h3>
&lt;p>由于空间是PHP的，所以也没打算重新弄个Z-Blog重出江湖，把文档重新归了一下档，做成了HTML的静态页面，但是音乐文件就没去修改，因为很多都失效了。倒是网吧没有装Ofice，而我又需要打开ACCESS的数据库，先是下了微软的Excel Viewer，后来发现只能看，不能修改，而我恰恰需要把Mdb文件解下来提取日志的相关内容，后来终于找到了：&lt;a href="http://www.greendown.cn/soft/156.html" title="Microsoft Office 2003 Sp2 精简免安装绿色版">Microsoft Office 2003 Sp2〖精简免安装绿色版〗&lt;/a>。把该数据库导出成XLS，打开，选了文章、评论等等复制出来，一切OK。&lt;/p>
&lt;h3 id="肆修改了原颜色代码">肆、修改了原颜色代码&lt;/h3>
&lt;p>把原来的中英文颜色代码弄掉了，换了个国外的，胡乱翻译了一下，&lt;a href="http://chenjun.com/other/color.html" title="Html color codes">放出来&lt;/a>了。页面自我感觉还蛮好看的，就是都是TABLE，想改成DIV+CSS可是东西太多，没什么必要。&lt;/p></description></item></channel></rss>