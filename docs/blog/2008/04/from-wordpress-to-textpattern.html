<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Zhu8"><meta name=generator content="Hugo 0.133.0"><meta name=description content="其实很久以前就试用了 TXP ，但是一直是一头雾水，今天终于 其实昨天 就已经弄好了。不过一直wordpress导入有点小问题，所以一直没有换过来。现在折腾好了，做一下小 记录："><meta name=keywords content="Hack,Textpattern,乱码,网站"><meta name=robots content="index, follow"><meta name=revised content="Zhu8, 2022-06-11"><meta name=copyright content="Zhu8.Net 🚀 [CC BY-SA], All Rights Reserved."><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><title>从wordpress到textpattern | 猪八的网：浮生志</title>
<link type=text/css rel=stylesheet href=https://zhu8.net/dist/app.css media=all><link rel="shortcut icon" href=https://zhu8.net/favicon.ico type=image/x-icon><link rel=apple-touch-icon sizes=180x180 href=https://zhu8.net/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://zhu8.net/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://zhu8.net/favicon-16x16.png><link rel=manifest href=https://zhu8.net/site.webmanifest><link rel=mask-icon href=https://zhu8.net/safari-pinned-tab.svg color=#5bbad5><script src=https://unpkg.com/@waline/client/dist/waline.js></script><link type=text/css rel=stylesheet href=https://unpkg.com/@waline/client/dist/waline.css><link type=text/css rel=stylesheet href=https://zhu8.net/assets/css/custom.css media=all><link type=text/css rel=stylesheet href=https://zhu8.net/assets/css/colors.css media=all><link type=text/css rel=stylesheet href=https://zhu8.net/assets/css/styles.css media=all><link type=text/css rel=stylesheet href=https://zhu8.net/assets/css/clip.css media=all><link type=text/css rel=stylesheet href=https://cdn.staticfile.org/font-awesome/5.15.4/css/all.min.css media=all><link rel=preconnect href=https://fonts.googleapis.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Philosopher|Noto+Serif+SC|ZCOOL+XiaoWei|Long+Cang&display=swap" media=print onload='this.media="all"'><noscript><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Philosopher|Noto+Serif+SC|ZCOOL+XiaoWei|Long+Cang&display=swap"></noscript><script>(function(e,t){var s=document,o="script",n=s.createElement(o),i=s.getElementsByTagName(o)[0];n.src=e,t&&n.addEventListener("load",function(e){t(e)}),i.parentNode.insertBefore(n,i)})("https://zhu8.net/lib/pangu.min.js",function(){pangu.spacingPage()})</script></head><body class="bg-gray-100 text-gray-700 font-sans"><div class="p-6 sm:p-10 md:p-16 flex flex-wrap"><header class="w-full md:w-2/5 xl:w-1/2 md:pr-12 lg:pr-20 xl:pr-24 order-1 md:order-1 max-w-2xl"><div class="z-50 bg-opacity-75 bg-opacity-custom lg:min-w-0.7 max-w-xl md:float-right md:text-right leading-loose tracking-tight md:sticky md:top-0 pt-2"><div><h1><a href=https://zhu8.net/ title=猪八的网：浮生志 class="heading font-cursive icon">猪八的网：浮生志</a></h1></div><h2 class=pt-2><i class="far fa-bookmark"></i>从wordpress到textpattern</h2><div class="flex flex-wrap justify-end pt-2"><div class="md:flex-grow-0 font-light"><i class="fas fa-folder-open"></i> <a class="post-taxonomy-category text-medium-red-violet-600 hover:text-medium-red-violet-400" href=https://zhu8.net/categories/%E7%9F%B3%E9%A9%AC-code/>石马 | Code</a>
&nbsp;&nbsp;
<i class="fas fa-tags"></i> <a class="post-taxonomy-tag text-eucalyptus-500" href=https://zhu8.net/tags/hack/>Hack</a>&nbsp;/ <a class="post-taxonomy-tag text-eucalyptus-500" href=https://zhu8.net/tags/textpattern/>Textpattern</a>&nbsp;/ <a class="post-taxonomy-tag text-eucalyptus-500" href=https://zhu8.net/tags/%E4%B9%B1%E7%A0%81/>乱码</a>&nbsp;/ <a class="post-taxonomy-tag text-eucalyptus-500" href=https://zhu8.net/tags/%E7%BD%91%E7%AB%99/>网站</a></div><time class="text-eucalyptus-500 md:text-right md:flex-grow font-light pl-4" datetime=2008-04-16T22:29:04+08:00><i class="fas fa-calendar-day"></i>2008-04-16 22:29 @ Wed</time></div><span class="a-gray text-md text-gray-500 leading-relaxed pt-2"><i class="fas fa-info"></i> 全文共 389 字，已阅 <i class=waline-pageview-count></i> 次，需<i class="fas fa-stopwatch"></i><span class=more-meta>1分&nbsp;46秒</span></span><hr></div></header><main class="w-full md:w-3/5 xl:w-1/2 max-w-3xl order-2 md:order-2 min-h-70vh pt-2 pb-4"><article><div class="mx-auto content"><div class=c-rich-text><p>其实<span class=right><img src=https://zhu8.net/images/posts/txp.gif alt=Textpattern title=Textpattern></span>很久以前就试用了 <a href=http://textpattern.com/>TXP</a> ，但是一直是一头雾水，今天终于 <sup>其实昨天</sup> 就已经弄好了。不过一直wordpress导入有点小问题，所以一直没有换过来。现在折腾好了，做一下小 <strong>记录：</strong></p><ul><li><strong>解决乱码问题</strong></li></ul><p>打开 <em>import_wp.php</em> ，找到下面这行：</p><p><code>mysql_select_db($b2db, $b2link);</code></p><p>在后面加上：</p><p><code>mysql_query("SET NAMES 'utf8'", $b2link);</code></p><ul><li><strong>增加 Excerpt 部分</strong></li></ul><p>找到下面这行：</p><p><code>p.post_content as Body,</code></p><p>在后面加上：</p><p><code>p.post_excerpt as Excerpt,</code></p><p>同样的，找到这行：</p><p><code>Body_html = '".doSlash($Body_html)."',</code></p><p>在后面加上：</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span>Excerpt <span style=color:#000;font-weight:700>=</span> <span style=color:#d14>&#39;&#34;.doSlash($Excerpt).&#34;&#39;</span>,
</span></span><span style=display:flex><span>Excerpt_html <span style=color:#000;font-weight:700>=</span> <span style=color:#d14>&#39;&#34;.doSlash($Excerpt).&#34;&#39;</span>,
</span></span></code></pre></div><ul><li><strong>不导入附件生成的页面</strong></li></ul><p>找到下面这行：</p><p><code>".$wpdbprefix."users as u on u.ID = p.post_author</code></p><p>在后面加上：</p><p><code>WHERE p.post_status != 'attachment'</code></p><p>差不多就这些了，在懒懒喵的 <a href=http://blog.nahoya.com/archives/2006_09/129>旧文</a> 中提到的留言关闭问题已经在Textpattern · 4.0.6中得到了解决。 <strong>但是我本人的一个问题，Tag问题还没有搞定，导入会变成Category，我是用的笨办法：直接在WP数据库中先删除它，哈哈！</strong> 还有一个小问题，导入user错误，不过如果是单用户的Blog，大可不必去管这个问题。</p><p>*放出修改后的 <del>import_wp.php</del></p><p><em>P.S</em> 初次使用 <a href=http://textile.thresholdstate.com/>Textile</a> ，感觉还要适应好段时间，不过用起来确实是种不同的体验。</p></div></div></article></main><div class="w-full h-0 flex-none order-3"></div><aside class="w-full md:w-2/5 xl:w-1/2 md:pr-12 lg:pr-20 xl:pr-24 order-4 md:order-3 md:sticky md:bottom-0 self-end max-w-2xl"><div class="md:float-right md:text-right leading-loose tracking-tight md:mb-2"><div class="md:max-w-xs flex flex-col md:items-end"><ul class="font-serif flex-grow-0 flex justify-between flex-wrap md:flex-col"><li class="px-1 md:px-0"><a href=https://zhu8.net/blog/ title="Go to Blog § 「日志」" class="font-medium text-medium-red-violet-600 hover:text-medium-red-violet-400">Blog § 「日志」 <i class="fas fa-book"></i></a></li><li class="px-1 md:px-0"><a href=https://zhu8.net/about/ title="Go to About § 「关于」">About § 「关于」 <i class="fas fa-address-book"></i></a></li><li class="px-1 md:px-0"><a href=https://zhu8.net/links/ title="Go to Links § 「链接」">Links § 「链接」 <i class="fas fa-link"></i></a></li><li class="px-1 md:px-0"><a href=https://zhu8.net/project/ title="Go to Project § 「项目」">Project § 「项目」 <i class="fas fa-poo"></i></a></li><li class="px-1 md:px-0"><a href=https://zhu8.net/categories/ title="Go to Categories § 「分类」">Categories § 「分类」 <i class="fas fa-th-list"></i></a></li><li class="px-1 md:px-0"><a href=https://zhu8.net/tags/ title="Go to Tags § 「标签」">Tags § 「标签」 <i class="fas fa-tag"></i></a></li><li class="px-1 md:px-0"><a href=https://zhu8.net/index.xml title="Go to RSS § 「订阅」">RSS § 「订阅」 <i class="fas fa-rss"></i></a></li><li id=fastSearch class=m-0><input id=searchInput type=text size=10 class="bg-gray-100 focus:outline-none border-b border-gray-100 focus:border-eucalyptus-300 md:text-right placeholder-java-500 min-w-0 max-w-xxxs" placeholder="Type, Search!"><i class="fas fa-search"></i><ul id=searchResults class="bg-gray-200 px-2 divide-y divide-gray-400"></ul></li></ul><div id=random-images></div><div class="font-medium text-xl flex flex-wrap-reverse"><a href=https://twitter.com/5CJ aria-label=Twitter title="View My Twitter"><i id=twitter-ic class="fab fa-twitter" aria-hidden=true></i></a>
<a href=https://facebook.com/ichenjun aria-label=Facebook title="View My Facebook"><i id=facebook-ic class="fab fa-facebook" aria-hidden=true></i></a>
<a href=https://weibo.com/zhu8 aria-label=Weibo title="View My Weibo"><i id=weibo-ic class="fab fa-weibo" aria-hidden=true></i></a>
<a href=https://github.com/zhu8 aria-label=Github title="View My GitHub"><i id=github-ic class="fab fa-github" aria-hidden=true></i></a>
<a href=https://instagram.com/5CJ aria-label=Instagram title="View My Instagram"><i id=instagram-ic class="fab fa-instagram" aria-hidden=true></i></a>
<a href=https://zhu8.tumblr.com aria-label=Tumblr title="View My Tumblr"><i id=tumblr-ic class="fab fa-tumblr-square" aria-hidden=true></i></a></div><div class="text-sm text-gray-500 leading-tight a-gray"><i class="fas fa-paint-roller"></i>Life is Colorful, Just PAINT.<br><i class="fas fa-code-branch"></i>Theme with <a href=https://github.com/heyeshuang/hugo-theme-tokiwa>Tokiwa</a>, Powered by <a href=https://gohugo.io><span style=color:#f40083>H</span><span style=color:#246dd6>U</span><span style=color:#4dc47d>G</span><span style=color:#fcb643>O</span></a>.<br><i class="fas fa-copyright"></i>2004-2024 &sect; Zhu8.Net 🚀 [<a href=https://creativecommons.org/licenses/by-sa/4.0/deed.zh>CC BY-SA</a>].</div></div></div></aside><footer class="w-full md:w-3/5 xl:w-1/2 order-3 max-w-3xl md:order-4 pt-2"><div id=gitinfo class="a-gray text-sm text-gray-500 leading-tight pb-6"><a href=https://github.com/zhu8/zhu8.net/edit/master/content/blog/2008-04-16-from-wordpress-to-textpattern.md target=_blank rel="nofollow noopener noreferrer" title="Edit Markdown File (Self Use Only!)"><i class="fas fa-pencil-alt"></i></a>LastMod:<em>2022-06-11</em>&nbsp; [<a href=https://github.com/zhu8/zhu8.net/blob/master/content/blog/2008-04-16-from-wordpress-to-textpattern.md target=_blank rel="nofollow noopener noreferrer" title="RAW Post in Markdown File.">MkDn</a>][<a class=git-hash href=https://github.com/zhu8/zhu8.net/commit/b9c816bca58fd42b1bba24325c821b909dcf78c8 target=_blank title='Commit by Jun Chen: Revert "First Repo"'><i class="fas fa-hashtag fa-fw"></i>b9c816bca</a>]</div><div class=post-share><span><i class="fas fa-share-square"></i>:</span>
<a href="https://twitter.com/intent/tweet?url=https://zhu8.net/blog/2008/04/from-wordpress-to-textpattern.html&text=%e4%bb%8ewordpress%e5%88%b0textpattern&via=https%3A%2F%2Fzhu8.net&hashtags=" target=_blank rel="noopener noreferrer"><i class="fab fa-twitter"></i></a>
<a href="http://www.facebook.com/sharer.php?u=https://zhu8.net/blog/2008/04/from-wordpress-to-textpattern.html" target=_blank rel="noopener noreferrer"><i class="fab fa-facebook"></i></a>
<a href="https://reddit.com/submit?url=https://zhu8.net/blog/2008/04/from-wordpress-to-textpattern.html&title=%e4%bb%8ewordpress%e5%88%b0textpattern" target=_blank rel="noopener noreferrer"><i class="fab fa-reddit"></i></a>
<a href="https://t.me/share/url?url=https://zhu8.net/blog/2008/04/from-wordpress-to-textpattern.html&text=%e4%bb%8ewordpress%e5%88%b0textpattern&to=" target=_blank rel="noopener noreferrer"><i class="fab fa-telegram"></i></a>
<a href="http://service.weibo.com/share/share.php?url=https://zhu8.net/blog/2008/04/from-wordpress-to-textpattern.html&appkey=&title=%e4%bb%8ewordpress%e5%88%b0textpattern&pic=&ralateUid=" target=_blank rel="noopener noreferrer"><i class="fab fa-weibo"></i></a>
<a href="http://www.evernote.com/clip.action?url=https://zhu8.net/blog/2008/04/from-wordpress-to-textpattern.html&title=%e4%bb%8ewordpress%e5%88%b0textpattern" target=_blank rel="noopener noreferrer"><i class="fab fa-evernote"></i></a>
<span class=weixin><i class="fab fa-weixin"></i></span></div><hr class=double-line><div class="flex flex-wrap justify-between pb-2 leading-loose font-serif"><a class=flex-grow-0 href=https://zhu8.net/blog/2008/04/wang-xiao-bo-11-years.html><svg class="fill-current inline-block h-4 w-4" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M7.828 11H20v2H7.828l5.364 5.364-1.414 1.414L4 12l7.778-7.778 1.414 1.414z"/></svg> 小波十一年 </a><a class=flex-grow-0 href=https://zhu8.net/blog/2008/05/back-to-movabletype.html>又换回MovableType<svg class="fill-current inline-block h-4 w-4" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M16.172 11l-5.364-5.364 1.414-1.414L20 12l-7.778 7.778-1.414-1.414L16.172 13H4v-2z"/></svg></a></div><div><div class="font-serif pb-2 flex align-start leading-loose"><span class="heading pr-6 leading-loose">Related Post(s):</span><ul id=related><li><a href=https://zhu8.net/blog/2014/06/start.html>今天开始</a>
&ndash;
<time class="md:text-right md:flex-grow" datetime=2014-06-04T22:27:20+08:00>2014-6-4</time></li><li><a href=https://zhu8.net/blog/2010/06/chenjun-com-reborn-and-zheteng.html>ChenJun.COM重生及继续折腾</a>
&ndash;
<time class="md:text-right md:flex-grow" datetime=2010-06-04T21:52:37+08:00>2010-6-4</time></li><li><a href=https://zhu8.net/blog/2009/07/rokr-e2-import-contacts-from-outlook-express.html>Rokr E2从Outlook Express中导入联系人</a>
&ndash;
<time class="md:text-right md:flex-grow" datetime=2009-07-27T15:04:22+08:00>2009-7-27</time></li><li><a href=https://zhu8.net/blog/2009/03/chenjun-dot-com-online.html>ChenJun dot COM上线!</a>
&ndash;
<time class="md:text-right md:flex-grow" datetime=2009-03-12T23:10:33+08:00>2009-3-12</time></li><li><a href=https://zhu8.net/blog/2009/03/disable-wordpress-revision.html>关闭WordPress的Revision功能</a>
&ndash;
<time class="md:text-right md:flex-grow" datetime=2009-03-03T23:25:55+08:00>2009-3-3</time></li></ul></div></div><hr><div class=pb-2><div class=comments><div id=waline></div><script>Waline.init({el:"#waline",serverURL:"http://waline-zhu8.vercel.app/",visitor:!0,pageview:!0,imageUploader:!1,avatar:"robohash",uploadImage:!1,placeholder:"欢迎留下您的足迹~~【昵称及邮件为必填项】",requiredMeta:["nick","mail"],gif:!1,emoji:["https://zhu8.net/images/dora_gif/","https://zhu8.net/images/ani_dora/","https://zhu8.net/images/dora_emotion/","https://zhu8.net/images/dora_sticker/","https://zhu8.net/images/smilies/"]})</script></div></div><hr></footer><script src=https://cdn.staticfile.org/jquery/3.6.0/jquery.min.js></script><script>window.jQuery||document.write('<script src="//ajax.aspnetcdn.com/ajax/jquery/jquery-3.6.0.min.js"><\/script>')</script><span class=toggle></span>
<span class=wave></span>
<script src=https://zhu8.net/assets/js/toggle.js></script><script src=https://zhu8.net/assets/js/go-top.js></script><script src=https://zhu8.net/assets/js/random-images.js></script><script src=https://zhu8.net/dist/app.js></script><script src=https://zhu8.net/lib/fuse.min.js></script><script src=https://zhu8.net/lib/fastsearch.js></script><script src=https://zhu8.net/assets/js/clip.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-DH1JSGY8RB"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-DH1JSGY8RB")</script></div></body></html>